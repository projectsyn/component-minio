parameters:
  kapitan:
    dependencies:
      - type: helm
        output_path: ${_base_directory}/helmcharts/minio/${minio:charts:minio:version}
        source: ${minio:charts:minio:source}
        version: ${minio:charts:minio:version}
        chart_name: minio
    compile:
      - input_paths:
          - ${_base_directory}/component/app.jsonnet
        input_type: jsonnet
        output_path: apps/
      - input_paths:
          - ${_base_directory}/component/main.jsonnet
        input_type: jsonnet
        output_path: ${_instance}
      - output_path: ${_instance}/10_minio_helmchart
        input_type: helm
        output_type: yaml
        input_paths:
          - ${_base_directory}/helmcharts/minio/${minio:charts:minio:version}
        helm_values: ${minio:helmValues}
        helm_params:
          name: minio-${_instance}
          namespace: "${minio:namespace}"
